!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d6b4c265-a7ec-4183-a19e-9182a7c31954",e._sentryDebugIdIdentifier="sentry-dbid-d6b4c265-a7ec-4183-a19e-9182a7c31954")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[373],{71397:function(e,t,n){n.d(t,{Z:function(){return T}});var l=n(85893),i=n(25504),a=n(69272),r=n(49490),o=n(60201),s=n(81315),c=n(10513),d=n(93321),u=e=>{let{headerText:t,onEditClick:n}=e,[u]=(0,c.m)(),{inMemory:{navigationMode:m}}=u;return(0,l.jsxs)(a.K,{alignItems:"center",className:"p-x-4 p-y-1","data-testid":"job-summary-card-header",justifyContent:"space-between",children:[(0,l.jsx)(r.j,{className:"tt-uppercase","data-testid":"job-summary-card-header-title",size:"medium",children:t}),m!==d.vt.LINEAR&&(0,l.jsx)(o.z,{"aria-label":"Edit Trade Details","data-testid":"edit-trade-details-button",fill:"subtle",icon:(0,l.jsx)(s.J,{color:i.light.colors.text.default,name:"edit"}),onClick:n,size:"xsmall"})]})},m=n(38002),h=n(55597),p=n(44752),f=n(15555),g=e=>{let{hideCustomerLocation:t=!1,locale:n,location:r,timeZone:o,timeslot:c}=e,d=(0,f.T)(r,t);return(0,l.jsxs)(a.K,{className:"p-x-4","data-testid":"job-summary-card-meta",direction:"column",spacing:1,children:[(0,l.jsxs)(a.K,{alignItems:"center",children:[(0,l.jsx)(s.J,{color:i.light.colors.text.subdued,"data-testid":"timeslot-icon",name:"event",size:"20"}),(0,l.jsx)(h.A,{className:"m-l-half",size:"small",children:(0,p.JD)(c,o,n)})]}),(0,l.jsxs)(a.K,{alignItems:"center",children:[(0,l.jsx)(s.J,{color:i.light.colors.text.subdued,"data-testid":"place-icon",name:"place",size:"20"}),(0,l.jsx)(h.A,{className:"m-l-half",size:"small",children:d})]})]})},b=n(82729);function v(){let e=(0,b._)(["\n  ","\n  margin-bottom: 8px;\n"]);return v=function(){return e},e}let x=n(41686).ZP.div(v(),e=>{let{needDivider:t}=e;return t&&"\n    border-top: 1px solid ".concat(i.light.colors.border.grey,";\n   ")});var T=e=>{let{headerText:t,hideCustomerLocation:n,locale:i,location:a,needDivider:r,onJobEdit:o,selectedOptions:s,timeZone:c,timeslot:d,tradeType:h}=e;return(0,l.jsxs)(x,{className:a&&d?"p-b-1":"","data-testid":"job-summary-card",needDivider:r,children:[(0,l.jsx)(u,{headerText:t,onEditClick:o}),(0,l.jsx)(m.Z,{selectedOptions:s,tradeType:h}),d&&a&&i&&c&&(0,l.jsx)(g,{hideCustomerLocation:n,locale:i,location:a,timeslot:d,timeZone:c})]})}},38002:function(e,t,n){n.d(t,{Z:function(){return u}});var l=n(85893),i=n(74664),a=n(8285),r=n(69272),o=n(91511),s=n(97e3),c=n(93321),d=n(93717),u=e=>{var t;let{selectedOptions:n,tradeType:u}=e,{templateKey:m,trades:h}=(0,d.Rb)();return(0,l.jsxs)(r.K,{className:"p-x-4 m-b-1","data-testid":"job-summary-card-body",spacing:1,children:[(0,l.jsx)(i.YP,{$selectable:!1,"data-testid":"selected-trade-icon",elevation:"flat",padding:"thin",status:"default",children:a.O[u].icon}),(0,l.jsxs)(r.K,{direction:"column",justifyContent:"space-around",children:[(0,l.jsx)(o.s,{size:"medium",children:null===(t=h.find(e=>e.category===u))||void 0===t?void 0:t.label}),m!==c.kG.EXPRESS&&(0,l.jsx)(r.K,{distribution:"fillEvenly",spacing:1,wrap:"wrap",children:n.map(e=>(0,l.jsx)(s.V,{className:"m-b-1",style:{heigh:16},children:e},e))})]})]})}},70498:function(e,t,n){n.d(t,{Z:function(){return h}});var l=n(85893),i=n(45826),a=n(69272),r=n(82729),o=n(41686),s=n(21180);function c(){let e=(0,r._)(["\n  // on mobile, make child buttons full width\n  @media (max-width: ",") {\n    flex: 1;\n\n    & > * {\n      justify-content: center;\n      width: 100%;\n    }\n  }\n"]);return c=function(){return e},e}function d(){let e=(0,r._)(["\n  background-color: white;\n  border-radius: 0px 0px 6px 6px;\n  bottom: 0;\n  position: sticky;\n  z-index: 2;\n\n  @media (max-width: ",") {\n    // on mobile we want the Footer on the bottom of the screen\n    ","\n  }\n"]);return d=function(){return e},e}let u=o.ZP.div(c(),s.tokens.breakpointMobileLarge),m=(0,o.ZP)(a.K)(d(),s.tokens.breakpointMobileLarge,e=>{let{$usePositionFixedForMobile:t}=e;return t&&"position: fixed;"});var h=e=>{let{actions:t,usePositionFixedForMobile:n=!0}=e;return 0===t.length?(0,l.jsx)(l.Fragment,{}):(0,l.jsxs)(m,{$usePositionFixedForMobile:n,className:"w-100","data-testid":"modal-footer",direction:"column",justifyContent:"flex-end",children:[(0,l.jsx)(i.i,{}),(0,l.jsx)(a.K,{className:"p-x-4 p-y-3",direction:"row",justifyContent:t.length>1?"space-between":"center",spacing:2,children:t.map((e,t)=>(0,l.jsx)(u,{children:e},t))})]})}},25834:function(e,t,n){var l=n(85893),i=n(69272),a=n(45826),r=n(49490),o=n(55597),s=n(81315),c=n(91511),d=n(41686),u=n(93321),m=n(25504),h=n(65807);t.Z=e=>{let{backgroundColor:t,brandName:n,hideCloseButton:p=!1,logoUrl:f="",onClose:g,schedulerTitle:b,showText:v}=e,{headline:x,primary:T}=(0,d.Fg)(),y={color:x,lineHeight:"20px"};return f?(0,l.jsxs)(i.K,{className:"p-x-4 p-y-2","data-testid":"header-container",justifyContent:"space-between",style:{backgroundColor:t===u.w3.PRIMARY?T:m.light.colors.text.inverted,borderRadius:"6px 6px 0 0"},children:[(0,l.jsxs)(i.K,{spacing:"2",style:{overflow:"hidden"},children:[(0,l.jsx)(h.Z,{url:f}),v&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.i,{className:"m-y-half","data-testid":"divider",vertical:!0}),(0,l.jsxs)(i.K,{direction:"column",justifyContent:"center",style:{overflow:"hidden"},children:[(0,l.jsx)(r.j,{"data-testid":"brandName",size:"large",style:{color:t===u.w3.PRIMARY?x:m.light.colors.text.default,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n}),(0,l.jsx)(o.A,{className:"m-0","data-testid":"schedulerTitle",size:"small",style:{color:t===u.w3.PRIMARY?x:m.light.colors.text.subdued,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:b})]})]})]}),!p&&(0,l.jsx)(s.J,{color:t===u.w3.PRIMARY?x:m.light.colors.text.default,"data-testid":"close-button",name:"close",onClick:e=>{e.stopPropagation(),g()},size:"24"})]}):(0,l.jsxs)(i.K,{className:"p-x-4 p-y-2",justifyContent:"space-between",style:{backgroundColor:T,borderRadius:"6px 6px 0 0"},children:[(0,l.jsxs)(i.K,{direction:"column",justifyContent:"center",children:[(0,l.jsx)(r.j,{"data-testid":"brandName",size:"small",style:y,children:n}),(0,l.jsx)(c.s,{className:"m-0",size:"medium",style:y,children:b})]}),!p&&(0,l.jsx)(s.J,{color:x,"data-testid":"close-button",name:"close",onClick:e=>{e.stopPropagation(),g()},size:"24"})]})}},98470:function(e,t,n){n.d(t,{Z:function(){return d},Q:function(){return c}});var l=n(85893),i=n(90797),a=n(67294),r=n(10513),o=n(93321);let s=(0,a.createContext)({}),c=()=>(0,a.useContext)(s);var d=e=>{let{children:t}=e,[n,c]=(0,r.m)(),{inMemory:{navigationMode:d},serializable:{currentNavSequence:u,currentStepIndex:m,stepCompletionMap:h}}=n,p=(0,a.useMemo)(()=>d===o.vt.LINEAR,[d]),f=()=>!!p&&!!u&&m!==u.length-1,g=()=>!!p&&m&&m>0,b=e=>{var t,n;if(!p||!u||void 0===m)return!1;let l=null===(t=e.serializable)||void 0===t?void 0:t.currentStepIndex,i=null===(n=e.serializable)||void 0===n?void 0:n.stepCompletionMap,a=u.findIndex(e=>{var t;return!(null===(t=i||h)||void 0===t?void 0:t[e])});return void 0!==l&&l<=a};return(0,l.jsx)(s.Provider,{value:{isGoingBackToRouterStep:()=>!!(u&&m&&g())&&u[m-1]===o.v3.ROUTER,isLinearNavigation:p,navigateBack:()=>{g()&&c({dispatchEvent:i.ly.NAVIGATE_BACK})},navigateForward:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(f()){let t={};if(e&&void 0!==m&&void 0!==u)for(let e=m+1;e<u.length;e++)t[u[e]]=!1;c({dispatchEvent:i.ly.NAVIGATE_FORWARD,...e&&{serializable:{stepCompletionMap:{...h,...t}}}})}},navigateToStep:e=>{b(e)&&c({...e,dispatchEvent:i.ly.NAVIGATE_TO_STEP})}},children:t})}},81940:function(e,t,n){n.d(t,{uq:function(){return v},ZP:function(){return T},ag:function(){return x}});var l=n(85893),i=n(67294),a=n(19084),r=n(93717),o=n(93321),s=n(50319),c=n(6812),d=n(33941),u=n(10513),m=n(89884),h=n(16259),p=n(40682),f=n(44752),g=n(19916),b=n(79977);let v=2e4,x=(e,t)=>{let n=new Date(Date.UTC(e.getFullYear(),e.getMonth()+1,0,23,59,59,999));return(0,m.zW)(n,t)};var T=e=>{let{onClickTimeSlot:t,openEmergencyContactModal:n,selectedTimeSlot:T,setSelectedTimeSlot:y}=e,{allSchedulers:_,firstAvailableEnabled:E,locale:w,schedulingOptions:D,strings:I,timeZone:j}=(0,r.Rb)(),{getPhrase:S}=(0,a.hO)(),{sessionToken:N}=(0,h.a)(),C=(0,i.useRef)(N),z=(0,p.S)(),[A,M]=(0,i.useState)(!0),[k,O]=(0,u.m)(),{customerInfo:L,editStep:R,isLoading:V,isValidTrade:B,isValidZipCode:F,selectedDate:P,selectedTimeSlot:G}=k.inMemory,K=R===o.v3.AVAILABILITY,{currentSchedulerId:Z,previewStep:U}=k.serializable,Y=_.find(e=>e.id===Z),{initEndDate:W,initStartDate:H}=(0,i.useMemo)(()=>{let e=new Date;return{initEndDate:x(e,j).toISOString(),initStartDate:e.toISOString()}},[j]),J=(0,i.useMemo)(()=>{let e=new Date,t=new Date(Date.UTC(e.getFullYear(),e.getMonth()));return P||(0,m.zW)(t,j).toISOString()},[j,P]),[$,X]=(0,i.useState)({endDate:W,startDate:H}),Q=(0,i.useMemo)(()=>{let e=Number(I.dispatchFeeAmount.en);return isNaN(e)?void 0:e},[I.dispatchFeeAmount.en]),q=(0,i.useMemo)(()=>{var e,t,n;return{input:{customerId:null==L?void 0:L.customerId,endDate:W,isNewCustomer:null==L?void 0:L.isNewCustomer,isNewLocation:null==L?void 0:L.isNewLocation,issueCategory:k.serializable.tradeType,issuePath:(0,r.Em)(k.serializable.tradeSelectionPath,Y),jobTypeId:null!==(t=k.serializable.jobTypeId)&&void 0!==t?t:"",locationId:null==L?void 0:L.locationId,membershipIds:null===(e=k.serializable.memberships)||void 0===e?void 0:e.map(e=>e.id),serviceZoneId:null!==(n=k.serializable.serviceZoneId)&&void 0!==n?n:"",startDate:H}}},[null==L?void 0:L.customerId,null==L?void 0:L.isNewCustomer,null==L?void 0:L.isNewLocation,null==L?void 0:L.locationId,k.serializable.tradeType,k.serializable.tradeSelectionPath,k.serializable.jobTypeId,k.serializable.memberships,k.serializable.serviceZoneId,W,Y,H]),[ee]=(0,s.D)(g.I4),{data:et,fetchMore:en,loading:el,refetch:ei}=(0,c.aM)(d.NS,{context:{timeout:v},fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0,onCompleted:e=>{var t,n,l,i,a;if((null==e?void 0:e.getAvailability.__typename)==="AvailabilityResponse"){let l=null==e?void 0:e.getAvailability.timeslots.find(e=>e.hasAvailability),i=(0,m.eX)(H,$.endDate)>=(0,r.C2)(null==D?void 0:D.calendarLengthDays);if(!l&&!i){es();return}M(!1),X(t=>{var n,l;return{...t,endDate:(null==e?void 0:null===(n=e.getAvailability)||void 0===n?void 0:n.__typename)==="AvailabilityResponse"&&null!==(l=e.getAvailability.adjustedEndDate)&&void 0!==l?l:t.endDate}}),0===e.getAvailability.timeslots.length&&ee({variables:{input:{additionalData:{businessUnitId:e.getAvailability.businessUnitId,category:k.serializable.tradeType,end:W,issuePath:(0,r.Em)(k.serializable.tradeSelectionPath,Y),jobTypeId:null!==(t=k.serializable.jobTypeId)&&void 0!==t?t:"",start:H,zoneId:null!==(n=k.serializable.serviceZoneId)&&void 0!==n?n:""}}}}),O({serializable:{tags:e.getAvailability.tags}})}else(null==e?void 0:e.getAvailability.__typename)==="ErrorResponse"&&(M(!1),(0,f.v4)({availabilityMessage:e.getAvailability.message,brandName:null==Y?void 0:null===(l=Y.brand)||void 0===l?void 0:l.name,businessUnitId:k.serializable.businessUnitId,category:q.input.issueCategory,city:null===(i=k.serializable.location)||void 0===i?void 0:i.city,demoUrl:z.demoBaseUrl,endDate:q.input.endDate,jobTypeId:q.input.jobTypeId,schedulerId:Z,schedulerName:null==Y?void 0:Y.name,serviceZoneId:q.input.jobTypeId,sessionToken:C.current.value,startDate:q.input.startDate,tradeSelectionPath:k.serializable.tradeSelectionPath,zip:null===(a=k.serializable.location)||void 0===a?void 0:a.zip}))},skip:!(B&&F&&k.serializable.tradeType),variables:q});(0,i.useEffect)(()=>{M(e=>e||el)},[el]);let[ea,er]=(0,i.useState)();(0,i.useEffect)(()=>{U&&er((0,f.X2)())},[U]);let eo=U&&ea?ea:(null==et?void 0:et.getAvailability.__typename)==="AvailabilityResponse"?et.getAvailability:void 0;(0,i.useEffect)(()=>{C.current!==N&&(M(!0),ei(),C.current=N)},[ei,N]);let es=(0,i.useCallback)(()=>{let e=new Date($.endDate),t=x(new Date(e.getFullYear(),e.getMonth()+1),j);X({endDate:t.toISOString(),startDate:e.toISOString()}),en({variables:{input:{...q.input,endDate:t.toISOString(),startDate:e.toISOString()}}})},[$.endDate,j,en,q.input]),ec=null==eo?void 0:eo.businessUnitId;(0,i.useEffect)(()=>{ec!==k.serializable.businessUnitId&&O({serializable:{businessUnitId:ec}})},[ec,O,k.serializable.businessUnitId]);let ed=(0,i.useCallback)(e=>{$.endDate<e.monthYear&&es()},[$.endDate,es]),eu=el||A;(0,i.useEffect)(()=>{!!eu!=!!V&&O({inMemory:{isLoading:eu}})},[V,O,eu]);let em=(0,i.useMemo)(()=>{var e;return!eo||eu?null:(null!==(e=null==eo?void 0:eo.timeslots)&&void 0!==e?e:[]).filter(e=>e.hasAvailability&&(null==D||!D.useNaiveTimezone||(0,m.$0)(new Date(e.startDate),j)>=new Date))},[eo,eu,null==D?void 0:D.useNaiveTimezone,j]),eh=(0,i.useMemo)(()=>({allAppointments:S("TIME_SLOT_SELECT.TYPE_TOGGLE.ALL_APPOINTMENTS"),firstAvailable:S("TIME_SLOT_SELECT.TYPE_TOGGLE.FIRST_AVAILABLE"),firstAvailableList:S("TIME_SLOT_SELECT.TIME_SLOT_LIST.FIRST_AVAILABLE")}),[S]);return(0,l.jsx)(b.Z,{availableTimeSlots:em,defaultDispatchFee:Q,firstAvailableEnabled:!!E,initialDateFromParams:P,initialMonthYear:J,initialTimeSlotFromParams:G,isEditing:K,isLoading:eu,locale:w,onClickTimeSlot:t,onViewStateChange:ed,openEmergencyContactModal:n,phrases:eh,scheduleTitle:I.scheduleTitle.en,selectedTimeSlot:T,setSelectedTimeSlot:y,showTimeZone:!(null==D?void 0:D.useNaiveTimezone),timeZone:j})}},55799:function(e,t,n){n.d(t,{x:function(){return s}});var l=n(82729),i=n(38658),a=n(41686),r=n(56793);function o(){let e=(0,l._)(["\n  @media (min-width: ",") {\n    border-radius: 0px 0px 6px 6px;\n  }\n\n  ","\n\n  .Scroll__Scrollbar {\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    justify-content: space-between;\n    overflow-x: hidden;\n    @media (min-width: ",") {\n      min-height: 300px;\n    }\n    max-height: calc(100vh - ",");\n  }\n  .Shadow--bottom {\n    @media (min-width: ",") {\n      margin-bottom: 88px;\n    }\n  }\n"]);return o=function(){return e},e}let s=(0,a.zo)(i.X)(o(),r.tokens.breakpointMobileLarge,e=>{let{$withHeader:t}=e;return t&&"\n    @media (min-width: ".concat(r.tokens.breakpointMobileLarge,") {\n      height: calc(100vh - ").concat("265px",");\n    }\n  ")},r.tokens.breakpointMobileLarge,"161px",r.tokens.breakpointMobileLarge)},46503:function(e,t,n){n.d(t,{o:function(){return s},p:function(){return c}});var l=n(82729),i=n(41686),a=n(56793);function r(){let e=(0,l._)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 0;\n  padding-bottom: ",";\n"]);return r=function(){return e},e}function o(){let e=(0,l._)(["\n  ",";\n"]);return o=function(){return e},e}let s=i.ZP.div(r(),a.tokens.spacing3),c=i.ZP.div(o(),e=>{let{padding:t}=e;return t?"padding-bottom: ".concat(t):"padding-bottom: ".concat(a.tokens.spacing1)})},78382:function(e,t,n){n.d(t,{O:function(){return o}});var l=n(82729),i=n(69272),a=n(25504);function r(){let e=(0,l._)(["\n  border-top: 1px solid ",";\n"]);return r=function(){return e},e}let o=(0,n(41686).ZP)(i.K)(r(),a.light.colors.border.grey)},79977:function(e,t,n){n.d(t,{Z:function(){return eu}});var l,i=n(85893),a=n(91511),r=n(69272),o=n(67294),s=n(25504),c=n(93717),d=n(82729),u=n(81273),m=n(97e3),h=n(41686);function p(){let e=(0,d._)(["\n  font-weight: 600;\n"]);return p=function(){return e},e}function f(){let e=(0,d._)(["\n  border-radius: 30px;\n\n  .Tag__body {\n    margin: 3px;\n  }\n"]);return f=function(){return e},e}function g(){let e=(0,d._)(["\n  .a-Icon.a-Icon--local_shipping {\n    margin-bottom: 1px;\n  }\n\n  .Tag__body {\n    margin: 0 4px;\n  }\n\n  align-items: center;\n  border-radius: 10px;\n  display: flex;\n  gap: 4px;\n  padding: 0px;\n\n  ","\n"]);return g=function(){return e},e}let b=(0,h.zo)(u.x)(p()),v=(0,h.zo)(m.V)(f()),x=(0,h.zo)(m.V)(g(),e=>{let{$highlightDispatchFee:t,theme:n}=e;return t&&"    \n    .a-Icon.a-Icon--local_shipping svg {\n      fill: ".concat(n.headline,"\n    }\n\n    .Eyebrow {\n      color: ").concat(n.headline,";\n    }\n    \n    background-color: ").concat(n.primary," !important;  \n    ")});var T=n(49490),y=n(81315),_=n(55597),E=n(8765),w=n(60201);function D(){return(D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}var I=function(e){return o.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",width:60,height:61,fill:"none"},e),l||(l=o.createElement("g",{id:"Group"},o.createElement("g",{id:"Group_2"},o.createElement("path",{id:"Vector",fill:"#737475",d:"M60 17.016H0V7.889a2.715 2.715 0 0 1 2.707-2.707h54.586A2.715 2.715 0 0 1 60 7.89z"})),o.createElement("g",{id:"Group_3"},o.createElement("path",{id:"Vector_2",fill:"#DFE0E1",d:"M57.293 60.348H2.707A2.715 2.715 0 0 1 0 57.641V17.016h60V57.64a2.703 2.703 0 0 1-2.707 2.707"})),o.createElement("g",{id:"Group_4"},o.createElement("path",{id:"Vector_3",fill:"#fff",d:"M55.94 21.076H4.06v35.212h51.88z"})),o.createElement("g",{id:"Group_5"},o.createElement("g",{id:"Group_6"},o.createElement("g",{id:"Group_7"},o.createElement("path",{id:"Vector_4",fill:"#BCBCBD",d:"M15.12 10.345a5.18 5.18 0 0 1-5.182-5.182C9.938 2.3 12.278 0 15.121 0s5.182 2.32 5.182 5.182h-1.934a3.243 3.243 0 0 0-3.248-3.248 3.243 3.243 0 0 0-3.249 3.248c0 1.798 1.47 3.23 3.249 3.23z"}))),o.createElement("g",{id:"Group_8"},o.createElement("g",{id:"Group_9"},o.createElement("path",{id:"Vector_5",fill:"#BCBCBD",d:"M30.01 10.345a5.18 5.18 0 0 1-5.182-5.182C24.828 2.3 27.148 0 30.01 0a5.18 5.18 0 0 1 5.182 5.182h-1.934a3.256 3.256 0 0 0-3.248-3.248 3.243 3.243 0 0 0-3.249 3.248 3.243 3.243 0 0 0 3.249 3.249z"}))),o.createElement("g",{id:"Group_10"},o.createElement("g",{id:"Group_11"},o.createElement("path",{id:"Vector_6",fill:"#BCBCBD",d:"M44.879 10.345a5.18 5.18 0 0 1-5.182-5.182C39.697 2.3 42.037 0 44.879 0a5.18 5.18 0 0 1 5.182 5.182h-1.934a3.255 3.255 0 0 0-3.248-3.248 3.255 3.255 0 0 0-3.249 3.248 3.243 3.243 0 0 0 3.249 3.249z"})))),o.createElement("g",{id:"Group_12"},o.createElement("g",{id:"Group_13"},o.createElement("path",{id:"Vector_7",fill:"#949596",d:"M55.94 31.692H4.06v1.547h51.88z"}))),o.createElement("g",{id:"Group_14"},o.createElement("g",{id:"Group_15"},o.createElement("path",{id:"Vector_8",fill:"#949596",d:"M55.94 43.99H4.06v1.547h51.88z"}))),o.createElement("g",{id:"Group_16"},o.createElement("g",{id:"Group_17"},o.createElement("path",{id:"Vector_9",fill:"#949596",d:"M17.402 21.076h-1.547v35.212h1.547z"}))),o.createElement("g",{id:"Group_18"},o.createElement("g",{id:"Group_19"},o.createElement("path",{id:"Vector_10",fill:"#949596",d:"M30.783 21.076h-1.547v35.212h1.547z"}))),o.createElement("g",{id:"Group_20"},o.createElement("g",{id:"Group_21"},o.createElement("path",{id:"Vector_11",fill:"#949596",d:"M44.144 21.076h-1.547v35.212h1.547z"}))),o.createElement("g",{id:"Group_22"},o.createElement("g",{id:"Group_23"},o.createElement("path",{id:"Vector_12",fill:"#949596",stroke:"#949596",strokeWidth:.5,d:"m25.804 37.052.177-.176-.177-.177-.501-.502-.177-.176-.177.176L23.147 38l-1.802-1.802-.177-.176-.177.176-.5.502-.178.177.177.176 1.802 1.802-1.802 1.802-.177.177.177.177.502.501.176.177.177-.177 1.802-1.802 1.802 1.802.177.177.177-.177.5-.501.178-.177-.177-.177-1.802-1.802z"}))))))},j=n(90492),S=n(35576),N=n(44752),C=e=>{var t,n,l;let{openEmergencyContactModal:a}=e,{strings:{deadEndMessage:o,deadEndMessageTitle:s}}=(0,c.Rb)(),{callEmergencyNumber:d}=(0,j.R)(),u=null!==(l=null===(n=(0,E.e)())||void 0===n?void 0:null===(t=n.largerThan)||void 0===t?void 0:t.mobile)&&void 0!==l&&l;return(0,i.jsx)("div",{className:"m-x-auto p-b-4","data-testid":"no-time-slots-available-container",children:(0,i.jsxs)(r.K,{alignItems:"center",direction:"column",children:[(0,i.jsx)(I,{"aria-hidden":"true",className:"m-b-2"}),(0,i.jsx)(_.A,{bold:!0,"data-testid":"no-time-slots-available-title",size:"small",style:{textAlign:"center"},subdued:!0,children:s.en}),(0,i.jsx)(_.A,{className:"m-b-2","data-testid":"no-time-slots-available-message",size:"small",style:{textAlign:"center"},subdued:!0,children:(0,i.jsx)(S.ZP,{options:{overrides:{a:{component:e=>{let{children:t,href:n,...l}=e;return(0,i.jsx)("a",{href:(0,N.Gd)(n||""),rel:"noopener noreferrer",target:"_blank",...l,children:t})}}}},children:o.en})}),(0,i.jsx)(w.z,{iconName:"call",onClick:()=>{u&&a?a():d()},primary:!0,children:"Call"})]})})},z=n(19084),A=n(17768),M=()=>({isSameTimeslot:(e,t)=>{if(!e||!t)return!1;let n=e.startDate,l=e.endDate,i=t.startDate,a=t.endDate,r=e.displayStartDate||"",o=e.displayEndDate||"",s=t.displayStartDate||"",c=t.displayEndDate||"";return n===i&&l===a&&r===s&&o===c}}),k=e=>{let{defaultDispatchFee:t,listTitle:n,onClickTimeSlot:l,openEmergencyContactModal:a,selectedDate:d,selectedTimeSlot:u,setSelectedTimeSlot:m,showTimeZone:h,timeSlots:p}=e,{locale:f,smartDispatchFeeEnabled:g,timeZone:E}=(0,c.Rb)(),{getPhrase:w}=(0,z.hO)(),{isSameTimeslot:D}=M(),I=(0,o.useRef)(d),j=(0,o.useMemo)(()=>{let e=0,n=Number.MAX_SAFE_INTEGER;return p.forEach((l,i)=>{l.dispatchFee&&l.dispatchFee<n?(e=i,n=l.dispatchFee):!l.dispatchFee&&t&&t<n&&(e=i,n=t)}),e},[t,p]);(0,o.useEffect)(()=>{!u&&p.length>0&&m(p[0])},[f,u,m,p]),(0,o.useEffect)(()=>{d!==I.current&&(I.current=d,m(p[0]))},[d,m,p]);let S=(0,o.useMemo)(()=>{let e=new Intl.DateTimeFormat(f,{timeZone:E,timeZoneName:"long"}).format().split(", ")[1],t=new Date().toLocaleTimeString(f,{hour:"numeric",minute:"numeric",timeZone:E});return"".concat(e," (").concat(t,")")},[f,E]);return!p||p.length<1?(0,i.jsx)(C,{openEmergencyContactModal:a}):(0,i.jsxs)(i.Fragment,{children:[h&&(0,i.jsxs)(r.K,{direction:"column",children:[(0,i.jsx)(T.j,{className:"m-b-1","data-testid":"time-zone-title",size:"large",children:w("TIME_SLOT_SELECT.TIME_ZONE_TITLE")}),(0,i.jsxs)(r.K,{alignItems:"center",className:"m-b-2","data-testid":"time-zone",spacing:"1",children:[(0,i.jsx)(y.J,{color:s.light.colors.text.subdued,name:"public",size:"21"}),(0,i.jsx)(_.A,{size:"small",children:S})]})]}),n&&(0,i.jsx)(T.j,{className:"m-b-1","data-testid":"time-slot-list-title",size:"medium",children:n}),(0,i.jsx)("div",{"data-testid":"time-slot-list",children:p.map((e,n)=>{var a;let o=(0,A.Z)(e,E,f),s=g&&(e.dispatchFee||t),c=n===j,d=c&&p.length>1;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(b,{checked:D(e,u),className:"m-b-1",control:"radio","data-testid":"time-slot-togglebox",label:(0,i.jsxs)(r.K,{className:"w-100",direction:"row",justifyContent:"space-between",children:[(0,i.jsx)(_.A,{size:"small",children:(0,N.JD)(e,E,f)}),s&&(0,i.jsx)(x,{$highlightDispatchFee:d,"data-testid":c?"lowest-timeslot-dispatch-fee":"timeslot-dispatch-fee",icon:"local_shipping",children:(0,i.jsxs)(T.j,{size:"small",children:["$",null!==(a=e.dispatchFee)&&void 0!==a?a:t]})})]}),onClick:()=>l(e),value:o},o)})})}),g&&(0,i.jsxs)(r.K,{className:"m-y-3",direction:"column",children:[(0,i.jsxs)(r.K,{alignContent:"center",spacing:1,children:[(0,i.jsx)(v,{children:(0,i.jsx)(r.K,{children:(0,i.jsx)(y.J,{name:"local_shipping",size:18})})}),(0,i.jsx)(_.A,{children:"Dispatch Fee"})]}),(0,i.jsx)(_.A,{size:"small",subdued:!0,children:"The fee will be added to your final bill once job is completed."})]})]})},O=n(90797);function L(){let e=(0,d._)(["\n  background-color: ",";\n  ",";\n  height: 40px;\n  opacity: ",";\n  text-decoration: ",";\n  width: 62px;\n  &: hover {\n    ","\n  }\n"]);return L=function(){return e},e}let R=(0,h.zo)(w.z)(L(),e=>{let{$subdued:t}=e;return t&&"#BCBCBD"},e=>{let{$today:t,theme:n}=e;return t&&"\n    &.Button.Button--grey.Button--outline {\n      background-color: ".concat(n.shade100," !important;\n      color: ").concat(s.light.colors.text.default,";\n      border: solid 1px ").concat(n.shade200,";\n    }\n    &: hover {      \n        background-color: ").concat(n.shade200," !important;\n        box-shadow: none !important; \n    }\n  ")},e=>{let{$subdued:t}=e;return t?"0.4":"1"},e=>{let{$subdued:t}=e;return t?"line-through":"none"},e=>{let{$selected:t,$subdued:n,theme:l}=e;return"\n      background-color: ".concat(t&&l.shade200||s.light.colors.surface.greySubdued," !important;\n      color: ").concat(t&&l.headline||s.light.colors.text.default,";\n      text-decoration: ").concat(n?"line-through":"none",";\n      ")});function V(){let e=(0,d._)(["\n  height: 40px;\n  width: 40px;\n"]);return V=function(){return e},e}function B(){let e=(0,d._)(["\n  display: flex;\n  flex-wrap: nowrap;\n  gap: 0.5rem;\n  overflow-x: auto;\n  padding-bottom: 4px;\n\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  /* Hide scrollbar for IE, Edge and Firefox */\n  & {\n    -ms-overflow-style: none; /* IE and Edge */\n    scrollbar-width: none; /* Firefox */\n  }\n"]);return B=function(){return e},e}let F=(0,h.zo)(w.z)(V()),P=h.zo.div(B());var G=e=>{let{children:t,containerRef:n}=e,l=(0,o.useRef)(null);(0,o.useEffect)(()=>{n&&(n.current=l.current)},[l,n]);let a=(0,E.e)().largerThan.mobile,[s,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!0),m=(0,o.useCallback)(()=>{l.current&&(c(l.current.scrollLeft>0),u(l.current.scrollWidth-l.current.scrollLeft>l.current.getBoundingClientRect().width))},[]);return(0,o.useEffect)(()=>{let e=l.current;return e&&e.addEventListener("scroll",m),()=>null==e?void 0:e.removeEventListener("scroll",m)},[m]),(0,i.jsxs)(r.K,{alignItems:"flex-end",className:"m-b-3 ".concat(a?"m-x-3":""),children:[a&&(0,i.jsx)(F,{className:"m-r-1","data-testid":"scroll-left-button",disabled:!s,fill:"subtle",onClick:()=>{if(!l.current)return;let e=l.current.scrollLeft,t=l.current.getBoundingClientRect().width;l.current.scrollTo({behavior:"smooth",left:Math.max(e-t,0)})},children:(0,i.jsx)(y.J,{name:"chevron_left",size:22})}),(0,i.jsx)(P,{className:a?"":"p-x-3","data-testid":"horizontal-scroll-container",ref:l,children:t}),a&&(0,i.jsx)(F,{className:"m-l-1","data-testid":"scroll-right-button",disabled:!d,fill:"subtle",onClick:()=>{if(!l.current)return;let e=l.current.scrollLeft,t=l.current.getBoundingClientRect().width,n=Math.min(e+t,l.current.scrollWidth-t);l.current.scrollTo({behavior:"smooth",left:n})},children:(0,i.jsx)(y.J,{name:"chevron_right",size:22})})]})};let K=(e,t)=>Math.floor((t.getTime()-e.getTime())/864e5),Z=e=>{let{locale:t,monthYear:n,timeSlots:l,timeZone:i}=e,a=new Set;l.forEach(e=>{if(e.hasAvailability){let n=new Date(e.startDate).toLocaleDateString(t,{timeZone:i});a.add(n)}});let r=new Date,o=r.toLocaleDateString(t,{timeZone:i}),s=new Date(new Date().setDate(r.getDate()+1)).toLocaleDateString(t,{timeZone:i}),c=new Date(n),d=r.getMonth()===c.getMonth()&&r.getFullYear()===c.getFullYear()?r:new Date(c.getFullYear(),c.getMonth(),1);r.setHours(0,0,0,0);let u=new Date(d.getFullYear(),d.getMonth()+1,1);return Array.from({length:K(d,u)},(e,n)=>{let l=new Date(d);l.setDate(l.getDate()+n);let i=l.toLocaleDateString(t),r=Number(i.split("/")[1]),c=new Date(l).getTime(),u=a.has(i);return{dateNumber:r,dateTimeMs:c,dayName:i===o?"Today":i===s?"Tomorrow":l.toLocaleDateString(t,{weekday:"short"}),hasAvailability:u}})};var U=e=>{let{monthYear:t,onDateSelect:n,selectedDate:l,timeSlots:a}=e,{locale:s,timeZone:d}=(0,c.Rb)(),u=(0,o.useRef)(null),m=(0,o.useMemo)(()=>Z({locale:s,monthYear:t,timeSlots:a,timeZone:d}),[s,t,a,d]),h=(0,o.useMemo)(()=>{let e=new Date(new Date().toLocaleDateString(s,{timeZone:d}));return m.findIndex(t=>t.dateTimeMs===e.getTime())},[m,s,d]);return(0,o.useEffect)(()=>{var e,t;null===(t=u.current)||void 0===t||null===(e=t.scrollTo)||void 0===e||e.call(t,{behavior:"instant",left:0})},[t]),(0,o.useEffect)(()=>{var e;let t=m.findIndex(e=>e.dateTimeMs===(null==l?void 0:l.getTime())),n=null===(e=u.current)||void 0===e?void 0:e.children[t];setTimeout(()=>{var e;null==n||null===(e=n.scrollIntoView)||void 0===e||e.call(n,{behavior:"smooth",block:"nearest"})},10)},[l,m]),(0,i.jsx)(G,{containerRef:u,children:m.map((e,t)=>(0,i.jsxs)(r.K,{alignItems:"center",className:"date-item",direction:"column",justifyContent:"center",spacing:1,children:[(0,i.jsx)(_.A,{size:"xsmall",subdued:!0,children:e.dayName}),(0,i.jsx)(R,{$selected:l&&e.dateTimeMs===l.getTime(),$subdued:!e.hasAvailability,$today:t===h,color:l&&e.dateTimeMs===l.getTime()?"primary":"default",fill:l&&e.dateTimeMs===l.getTime()||!e.hasAvailability?"solid":"outline",onClick:()=>{n(new Date(e.dateTimeMs))},children:e.dateNumber})]},e.dateTimeMs))})},Y=n(25782),W=n(5196);function H(){let e=(0,d._)(["\n  &.Headline.Headline--small {\n    padding-bottom: 0.25rem;\n  }\n"]);return H=function(){return e},e}function J(){let e=(0,d._)(["\n  &.Button.Button--outline {\n    box-shadow: inset 0 0 0 1px ",";\n    ","\n  }\n  &.Button.Button--selected {\n    box-shadow: inset 0 0 0 1px ",";\n    .a-Icon {\n      color: ",";\n    }\n  }\n  &.ButtonToggle--primary .ButtonToggle__Item--selected .Button {\n    background-color: ",";\n  }\n  .ButtonToggle--primary .ButtonToggle__Item--selected .Button {\n    background-color: ",";\n  }\n  &.Button.Button--outline.Button--selected::before,\n  &.Button.Button--outline:active::before,\n  &.Button:hover::before {\n    background-color: ",";\n    opacity: 0;\n  }\n"]);return J=function(){return e},e}let $=(0,h.zo)(a.s)(H()),X=(0,h.zo)(w.z)(J(),s.light.colors.border.default,e=>{let{$showSelectedStyle:t,theme:n}=e;return"\n      background-color: ".concat(t?n.shade100:"white",";\n      color: ").concat(t?n.primary:s.light.colors.text.default,";\n      ")},e=>{let{theme:t}=e;return t.primary},s.light.colors.text.default,e=>{let{theme:t}=e;return t.shade100},e=>{let{theme:t}=e;return t.shade100},e=>{let{theme:t}=e;return t.shade100}),Q=(e,t)=>n=>new Intl.DateTimeFormat(e,{month:"short",timeZone:t,year:"numeric"}).format(n),q=(0,o.forwardRef)(function(e,t){let{initMonthYear:n,monthYear:l,selectedViewType:a,setMonthYear:s,setSelectedDate:d,setSelectedViewType:u}=e,{getPhrase:m}=(0,z.hO)(),{locale:h,timeZone:p}=(0,c.Rb)(),f=Q(h,p),g=(0,o.useCallback)(e=>{e.stopPropagation();let t=new Date(l),n=new Date(t);n.setMonth(t.getMonth()-1),s(n.toISOString())},[l,s]),b=(0,o.useCallback)(e=>{e.stopPropagation();let t=new Date(l),n=new Date(t);n.setMonth(t.getMonth()+1),s(n.toISOString())},[l,s]);return(0,i.jsxs)(r.K,{alignItems:"center",className:"m-b-2",direction:"row",justifyContent:"space-between",ref:t,children:[(0,i.jsxs)(r.K,{alignItems:"center",direction:"row",children:[(0,i.jsx)($,{className:"m-b-0","data-testid":"month-year",size:"small",children:f(new Date(l))}),(0,i.jsx)(Y.u,{className:"m-l-1 m-r-2",el:"div",portal:!0,text:m("TIME_SLOT_SELECT.MONTH_NAVIGATOR.PREV_BUTTON_TOOLTIP"),children:(0,i.jsx)(w.z,{"aria-label":m("TIME_SLOT_SELECT.MONTH_NAVIGATOR.PREV_BUTTON_TOOLTIP"),disabled:n>=l,fill:"subtle",iconName:"keyboard_arrow_left",onClick:g,size:"xsmall"})}),(0,i.jsx)(Y.u,{el:"div",portal:!0,text:m("TIME_SLOT_SELECT.MONTH_NAVIGATOR.NEXT_BUTTON_TOOLTIP"),children:(0,i.jsx)(w.z,{"aria-label":m("TIME_SLOT_SELECT.MONTH_NAVIGATOR.NEXT_BUTTON_TOOLTIP"),fill:"subtle",iconName:"keyboard_arrow_right",onClick:b,size:"xsmall"})})]}),(0,i.jsxs)(r.K,{alignItems:"center",direction:"row",children:[(0,i.jsx)(w.z,{className:"m-r-1",fill:"subtle",onClick:()=>{let e=new Date(new Date().toLocaleDateString(h,{timeZone:p}));s(e.toISOString()),d(e)},size:"small",children:m("TIME_SLOT_SELECT.MONTH_NAVIGATOR.TODAY_BUTTON_LABEL")}),(0,i.jsxs)(W.h,{attached:!0,children:[(0,i.jsx)(Y.u,{el:"div",portal:!0,text:m("TIME_SLOT_SELECT.MONTH_NAVIGATOR.LIST_VIEW_TOOLTIP"),children:(0,i.jsx)(X,{$showSelectedStyle:a===O.Uv.LIST_VIEW,"aria-label":m("TIME_SLOT_SELECT.MONTH_NAVIGATOR.LIST_VIEW_TOOLTIP"),iconName:"list",onClick:()=>u(O.Uv.LIST_VIEW),outline:!0,selected:a===O.Uv.LIST_VIEW,size:"small"})}),(0,i.jsx)(Y.u,{el:"div",portal:!0,text:m("TIME_SLOT_SELECT.MONTH_NAVIGATOR.CALENDAR_VIEW_TOOLTIP"),children:(0,i.jsx)(X,{$showSelectedStyle:a===O.Uv.CALENDAR_VIEW,"aria-label":m("TIME_SLOT_SELECT.MONTH_NAVIGATOR.CALENDAR_VIEW_TOOLTIP"),iconName:"event",onClick:()=>u(O.Uv.CALENDAR_VIEW),outline:!0,selected:a===O.Uv.CALENDAR_VIEW,size:"small"})})]})]})]})});var ee=n(89884),et=n(95555);function en(){let e=(0,d._)(["\n  .rdp-button:hover:not([disabled]) {\n    background-color: "," !important;\n    .BodyText {\n      color: "," !important;\n    }\n  }\n\n  .rdp-button:hover:not(.rdp-day_today):not(.rdp-day_selected) {\n    background-color: "," !important;\n  }\n\n  opacity: ",";\n\n  text-decoration: "," !important;\n\n  .rdp-day_today:not(.rdp-day_selected) {\n    background-color: white;\n    border: solid 1px ",";\n    border-radius: 3px;\n    .BodyText {\n      color: ",";\n    }\n  }\n  .rdp-day_today:not(.rdp-day_selected):hover {\n    background-color: "," !important;\n  }\n  .rdp-button:not(.rdp-day_today):not(.rdp-day_selected) {\n    background-color: "," !important;\n  }\n  \n  .rdp-day_selected {\n    background-color: "," !important;\n    .BodyText {\n      color: ",";\n    }\n  }\n  }\n"]);return en=function(){return e},e}function el(){let e=(0,d._)(["\n  ","\n"]);return el=function(){return e},e}let ei=(0,h.ZP)("div")(en(),e=>{let{theme:t}=e;return t.shade200},e=>{let{$disabled:t,theme:n}=e;return t&&s.light.colors.text.subdued||n.headline},s.light.colors.hover.default,e=>e.$disabled?.6:1,e=>e.$disabled?"line-through":"none",s.light.colors.border.primary,s.light.colors.text.default,s.light.colors.hover.default,e=>{let{$disabled:t}=e;return t&&"#BCBCBD"},e=>{let{theme:t}=e;return t.shade400},e=>{let{theme:t}=e;return t.headline}),ea=(0,h.ZP)(_.A)(el(),e=>{let{$selected:t,theme:n}=e;return t?"color: ".concat(n.headline):""});n(138);var er=e=>{let{availableTimeSlots:t,monthYear:n,selectedDate:l,setSelectedDate:a}=e,{locale:s,timeZone:d}=(0,c.Rb)(),u=t.sort((e,t)=>new Date(e.startDate).getTime()-new Date(t.startDate).getTime()),m=u&&u.length>0?new Date(u[0].startDate):new Date,p=(0,h.Fg)(),f=(0,o.useMemo)(()=>t.map(e=>(0,ee.QX)(e.startDate,s,d)).filter(Boolean),[t,s,d]),g=(0,E.e)().smallerThan.tablet,b=new Date(new Date(n).toLocaleString(s,{timeZone:d})),v=(0,ee.QX)(new Date().toISOString(),s,d),x=new Date(null!=v?v:new Date);x.setDate(1);let T=new Date(x.getFullYear(),x.getMonth()+12,0);return(0,i.jsx)(r.K,{alignItems:"center",className:"m-b-2",justifyContent:"center","spacing-bottom":"1",children:(0,i.jsx)(et._W,{components:{Caption:()=>null,Day:e=>{let t=!f.includes((0,ee.QX)(e.date.toISOString(),s))||e.date<x;return(0,i.jsx)(ei,{$disabled:t,children:(0,i.jsx)(et.Jc,{...e})})},DayContent:e=>{let t=(0,et.JM)(e.date);return(0,i.jsx)(ea,{$selected:!!t.selected,size:g?"small":"medium",weight:"regular",children:(0,i.jsx)(et._3,{...e})})}},disabled:{before:m},disableNavigation:!0,fromDate:x,mode:"single",modifiersStyles:{today:{backgroundColor:"#fff",color:p.primary,fontWeight:"normal"}},month:b,onDayClick:e=>{a(e)},selected:l,styles:{cell:{padding:"".concat(g?"0 5px":"5px 15px")},day:{borderRadius:"10%",margin:"auto"},head_cell:{fontSize:"14px",fontWeight:700,height:"20px",opacity:.6,paddingBottom:"10px",textTransform:"capitalize",width:"auto"},root:{margin:0}},toDate:T})})},eo=n(78382),es=n(96694);function ec(){let e=(0,d._)(["\n  .Button--blue {\n    color: "," !important;\n  }\n"]);return ec=function(){return e},e}let ed=(0,h.zo)(es.F)(ec(),s.light.colors.text.default);var eu=e=>{let{availableTimeSlots:t,defaultDispatchFee:n,firstAvailableEnabled:l,initialDateFromParams:s,initialMonthYear:c,initialTimeSlotFromParams:d,isEditing:u,locale:m,onClickTimeSlot:h,onViewStateChange:p,openEmergencyContactModal:f,phrases:g,scheduleTitle:b,selectedTimeSlot:v,setSelectedTimeSlot:x,showTimeZone:T,timeZone:y}=e,[_,E]=(0,o.useState)(O.Uv.LIST_VIEW),w=(0,o.useRef)(null),D=(0,o.useRef)(null),I=(0,o.useRef)(null),j=(0,o.useRef)(!1),S=(0,o.useRef)(!1),N=(0,o.useRef)(!1),[C,z]=(0,o.useState)(l&&!s?"first_available":"all_appointments"),[A,M]=(0,o.useState)(c),[L,R]=(0,o.useState)(s&&new Date(s)||void 0);(0,o.useEffect)(()=>{p&&p({monthYear:A,selectedDate:L,selectionType:C,viewType:_})},[A,L,C,_,p]);let V=(0,o.useMemo)(()=>(null!=t?t:[]).filter(e=>{let t=(0,ee.QX)(e.startDate,m,y),n=L&&(0,ee.QX)(null==L?void 0:L.toISOString(),m);return"first_available"===C||!L||n===t}),[t,L,C,m,y]);(0,o.useEffect)(()=>{let e=(0,ee.Kp)({locale:m,timeSlot:v,timeZone:y}),t=V.find(e=>(0,ee.Kp)({locale:m,timeSlot:e,timeZone:y})===d);!j.current&&t&&e!==d&&(x(t),j.current=!0)},[v,d,V,x,m,y]);let B=(0,o.useMemo)(()=>V.slice(0,4),[V]),F=l&&[{text:g.firstAvailable,value:"first_available"},{text:g.allAppointments,value:"all_appointments"}];(0,o.useEffect)(()=>{setTimeout(()=>{var e,t,n;"first_available"===C?null===(e=w.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"}):(null===(t=D.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"nearest"}),null===(n=I.current)||void 0===n||n.scrollIntoView({behavior:"smooth",block:"nearest"}))},20)},[C]),(0,o.useEffect)(()=>{setTimeout(()=>{var e,t;_===O.Uv.CALENDAR_VIEW?null===(e=I.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"}):null===(t=D.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"nearest"})},20)},[_]),(0,o.useEffect)(()=>{setTimeout(()=>{var e;null===(e=D.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"})},20)},[L]),(0,o.useEffect)(()=>{if(!S.current&&u&&v){z("all_appointments"),E(O.Uv.CALENDAR_VIEW);let e=(0,ee.Ci)(v.startDate,m,y);R(e),M(e.toISOString()),S.current=!0}},[u,v,m,y,z,E,R,M]);let P=(0,o.useRef)(!1);(0,o.useEffect)(()=>{if(!P.current&&"all_appointments"===C&&!L&&t&&t.length>0&&!s){let e=t.find(e=>e.hasAvailability);e&&(R((0,ee.Ci)(e.startDate,m,y)),P.current=!0)}},[t,L,C,m,y,s]),(0,o.useEffect)(()=>{if(!N.current)return;let e=new Date(A);if(null===t)return;let n=t.find(t=>{let n=(0,ee.Ci)(t.startDate,m,y);return(0,ee._U)(e,n)&&t.hasAvailability});n?R((0,ee.Ci)(n.startDate,m,y)):R(new Date(e.getFullYear(),e.getMonth()))},[t,m,y,A]);let G=(0,o.useCallback)(e=>{N.current||(N.current=!0),M(e)},[M]),K=(0,o.useCallback)(e=>{if(z(e),"all_appointments"===e&&!L&&t&&t.length>0){let e=t.find(e=>e.hasAvailability);e&&R((0,ee.Ci)(e.startDate,m,y))}},[t,m,y,L]);return(0,i.jsxs)(eo.O,{className:"p-t-3","data-testid":"time-slot-select",direction:"column",children:[(0,i.jsx)(a.s,{className:"m-x-3 m-b-2","data-testid":"time-slot-select-headline",size:"medium",children:b}),F&&(0,i.jsx)(ed,{className:"m-x-3 m-b-2","data-testid":"type-toggle",onChange:K,options:F,size:"medium",value:C}),"all_appointments"===C&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.K,{className:"m-x-3 m-t-1",direction:"column",children:(0,i.jsx)(q,{initMonthYear:c,monthYear:A,selectedViewType:_,setMonthYear:G,setSelectedDate:R,setSelectedViewType:E})}),_===O.Uv.CALENDAR_VIEW?(0,i.jsxs)(r.K,{className:"m-x-3",direction:"column",justifyContent:"center",children:[(0,i.jsx)(er,{availableTimeSlots:null!=t?t:[],monthYear:A,selectedDate:L,setSelectedDate:R}),(0,i.jsx)("div",{ref:I,children:(0,i.jsx)(k,{defaultDispatchFee:n,onClickTimeSlot:h,openEmergencyContactModal:f,selectedDate:L,selectedTimeSlot:v,setSelectedTimeSlot:x,showTimeZone:T,timeSlots:V})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(U,{monthYear:A,onDateSelect:R,selectedDate:L,timeSlots:null!=t?t:[]}),(0,i.jsx)(r.K,{className:"m-x-3",direction:"column",ref:D,children:(0,i.jsx)(k,{defaultDispatchFee:n,onClickTimeSlot:h,openEmergencyContactModal:f,selectedDate:L,selectedTimeSlot:v,setSelectedTimeSlot:x,showTimeZone:T,timeSlots:V})})]})]}),"first_available"===C&&(0,i.jsx)(r.K,{className:"m-x-3 m-t-1",direction:"column",ref:w,children:(0,i.jsx)(k,{defaultDispatchFee:n,listTitle:g.firstAvailableList,onClickTimeSlot:h,openEmergencyContactModal:f,selectedDate:L,selectedTimeSlot:v,setSelectedTimeSlot:x,showTimeZone:T,timeSlots:B})})]})}},74664:function(e,t,n){n.d(t,{YP:function(){return h},Y_:function(){return m},hB:function(){return p}});var l=n(82729),i=n(69272),a=n(27535),r=n(41686),o=n(21180);function s(){let e=(0,l._)(["\n  background-color: ",";\n  border-radius: 50%;\n  height: 1.25rem;\n  left: -0.625rem;\n  line-height: 1.25rem;\n  position: absolute;\n  top: -0.625rem;\n  width: 1.25rem;\n\n  svg {\n    color: ",";\n  }\n"]);return s=function(){return e},e}function c(){let e=(0,l._)(["\n  height: ",";\n  ","\n\n  width: ",";\n\n  @media (max-width: ",") {\n    height: 4.125rem;\n    width: 4.125rem;\n  }\n\n  & > .CardSection {\n    display: block;\n    height: ",";\n    overflow: hidden;\n    padding: 1px;\n    width: ",";\n    @media (max-width: ",") {\n      height: 4.125rem;\n      width: 4.125rem;\n    }\n    & > svg {\n      margin: auto;\n    }\n    ",";\n  }\n\n  ","\n"]);return c=function(){return e},e}function d(){let e=(0,l._)(["\n  text-align: center;\n  width: 100%;\n  word-wrap: break-word;\n"]);return d=function(){return e},e}let u=e=>e?"5.375rem":"4.125rem",m=(0,r.zo)(i.K)(s(),e=>{let{theme:t}=e;return t.primary},e=>{let{theme:t}=e;return t.headline}),h=(0,r.zo)(a.Z)(c(),e=>{let{$selectable:t}=e;return u(t)},e=>{let{$selectable:t}=e;return t&&"\n    cursor: pointer;    \n    "},e=>{let{$selectable:t}=e;return u(t)},o.tokens.breakpointMobileLarge,e=>{let{$selectable:t}=e;return u(t)},e=>{let{$selectable:t}=e;return u(t)},o.tokens.breakpointMobileLarge,e=>{let{$selectable:t,theme:n}=e;return t&&"\n      &:hover {\n        &:before {\n          background: linear-gradient(-45deg, ".concat(n.primary," 0%, ").concat(n.shade200," -1%);\n          bottom: 0;\n          content: '';\n          filter: blur(10px);\n          left: 0;\n          opacity: 0.6;\n          position: absolute;\n          right: 0;\n          top: 0;\n          transform: translate3d(1px, 1px, 0) scale(0.95);\n          transition: opacity 0.3s;\n          z-index: -1;\n        }\n      }\n    ")},e=>{let{$borderColor:t}=e;return t&&"    \n    & > .CardSection:first-child {\n      border-color: ".concat(t,";\n    }\n    ")}),p=r.zo.div(d())},39507:function(e,t,n){n.d(t,{Z:function(){return h}});var l=n(85893),i=n(25504),a=n(69272),r=n(81315),o=n(60201),s=n(78382),c=n(82729),d=n(49490);function u(){let e=(0,c._)(["\n  color: ",";\n"]);return u=function(){return e},e}let m=(0,n(41686).ZP)(d.j)(u(),i.light.colors.text.default);var h=e=>{let{formattedLocation:t,isEditDisabled:n=!1,onEditClick:c,tradeLabel:d}=e;return(0,l.jsxs)(s.O,{className:"p-x-4 p-y-1","data-testid":"zip-code-section",justifyContent:"space-between",children:[(0,l.jsxs)(a.K,{alignContent:"center",alignItems:"center",children:[(0,l.jsx)(r.J,{color:i.light.colors.text.subdued,"data-testid":"place-icon",name:"place",size:"16",style:{height:16}}),(0,l.jsx)(m,{className:"m-l-1",size:"medium",children:t}),(0,l.jsx)(r.J,{className:"m-l-half",color:i.light.colors.status.success,"data-testid":"check-icon",name:"check_circle",size:"16"}),d&&(0,l.jsx)(m,{className:"m-l-1",size:"medium",children:d})]}),c&&(0,l.jsx)(o.z,{"aria-label":"Edit location","data-testid":"edit-zipcode-button",disabled:n,fill:"subtle",icon:(0,l.jsx)(r.J,{color:i.light.colors.text.default,name:"edit"}),onClick:c,size:"xsmall"})]})}},90492:function(e,t,n){n.d(t,{R:function(){return c}});var l=n(10513),i=n(13594),a=n(93717),r=n(93321),o=n(44752),s=n(67294);let c=()=>{let{navSequence:e,strings:t}=(0,a.Rb)(),{strings:n}=(0,i.v)(),[{inMemory:{editStep:c,navigationMode:d},routerId:u,routerTemplateKey:m,serializable:{activeStep:h,isMemberFlowEnabled:p}},f]=(0,l.m)(),g=d===r.vt.LINEAR,b=(0,s.useCallback)(()=>{c&&f({inMemory:{editStep:void 0}})},[f,c]);return{callEmergencyNumber:(0,s.useCallback)(()=>window.open("tel:".concat(u?n.phoneNumber.en:null==t?void 0:t.phoneNumber.en),"_blank"),[u,null==n?void 0:n.phoneNumber.en,null==t?void 0:t.phoneNumber.en]),nextStep:(0,s.useCallback)(t=>{let n=(0,o.Q3)({isLinearNav:g,isMemberFlowEnabled:p,navSequenceSteps:e,routerId:u,routerTemplateKey:m}),l=null!=t?t:h;if(l){let e=n.indexOf(l);h===r.v3.BOOKING_CONFIRMATION&&(n.indexOf(h),n.length),h&&e<n.length-1&&f({serializable:{activeStep:n[e+1]}})}},[e,p,u,g,h,f,m]),returnToActiveStep:b}}},89884:function(e,t,n){n.d(t,{$0:function(){return c},Ci:function(){return a},Kp:function(){return i},QX:function(){return l},_U:function(){return r},eX:function(){return o},zW:function(){return s}});let l=(e,t,n)=>{let l=new Date(e);return!(l instanceof Date)||isNaN(l.getTime())||l.toISOString()!==e?null:Intl.DateTimeFormat(t,{day:"numeric",month:"short",timeZone:n,year:"numeric"}).format(l)},i=e=>{let{locale:t,timeSlot:n,timeZone:l}=e;if(!n)return"";let i=new Date(n.startDate),a=new Date(n.endDate);if(!(i instanceof Date)||!(a instanceof Date)||isNaN(i.getTime())||isNaN(a.getTime())||i.toISOString()!==n.startDate||a.toISOString()!==n.endDate)return"";let r=Intl.DateTimeFormat(t,{hour:"2-digit",hour12:!1,minute:"2-digit",timeZone:l}).format(i),o=Intl.DateTimeFormat(t,{hour:"2-digit",hour12:!1,minute:"2-digit",timeZone:l}).format(a);return"".concat(r,"-").concat(o,"-").concat(n.customLabel)},a=(e,t,n)=>{let l=new Date(e);return"Invalid Date"===l.toString()&&(l=new Date),new Date(l.toLocaleDateString(t,{timeZone:n}))},r=(e,t)=>e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),o=(e,t)=>Math.round(Math.abs(new Date(e).valueOf()-new Date(t).valueOf())/864e5),s=(e,t)=>{var n;let l;try{l=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"})}catch(t){return e}let i=null===(n=l.formatToParts(e).find(e=>"timeZoneName"===e.type))||void 0===n?void 0:n.value,a=null==i?void 0:i.match(/GMT([+-]\d+):(\d+)/);if(!a)throw Error("Invalid timezone offset for timezone: ".concat(t));let r=parseInt(a[1],10),o=parseInt(a[2],10);return new Date(e.getTime()-6e4*(60*r+o))},c=(e,t)=>new Date(new Intl.DateTimeFormat("en-US",{dateStyle:"short",timeStyle:"short",timeZone:t}).format(e))},15555:function(e,t,n){n.d(t,{T:function(){return l}});function l(e,t){if(!e)return;let{city:n,state:l,zip:i}=e,a=t?"":"".concat(n,", ").concat(l,", ");return"".concat(a).concat(i)}}}]);